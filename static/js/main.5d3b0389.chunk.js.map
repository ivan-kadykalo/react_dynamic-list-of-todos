{"version":3,"sources":["components/TodoList/TodoList.tsx","components/TodoItem/TodoItem.tsx","components/CurrentUser/CurrentUser.tsx","components/API/api.ts","App.tsx","index.tsx"],"names":["Status","TodoItem","todo","selectedUserId","selectNewUser","useState","completed","checked","setChecked","onChecked","useCallback","prev","className","cn","type","readOnly","onClick","title","userId","Error","TodoList","todos","filterQuery","setFilterQuery","All","status","setStatus","shuffle","setShuffle","filteredTodos","Active","filter","Completed","filteredStatus","toLowerCase","query","includes","visibleTodos","sort","Math","random","changeStatus","event","target","value","changeFilter","changeShuffle","onChange","map","id","request","url","endpoint","a","fetch","response","json","CurrentUser","user","setUser","Initial","userError","setUserError","useEffect","getUser","userFromServer","clearUser","name","email","phone","App","setSelectedUserId","setTodos","downloadError","setDownloadError","getDataFromServer","dataFromServer","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d3b0389.chunk.js","sourcesContent":["import {\n  ChangeEvent,\n  FC,\n  useCallback,\n  useState,\n} from 'react';\nimport './TodoList.scss';\nimport { TodoItem } from '../TodoItem/TodoItem';\n\nenum Status {\n  All = 'all',\n  Active = 'active',\n  Completed = 'completed',\n}\n\ntype Props = {\n  todos: Todo[];\n  selectedUserId: number,\n  selectNewUser: (x: number) => void;\n};\n\nexport const TodoList: FC<Props> = ({\n  todos,\n  selectedUserId,\n  selectNewUser,\n}) => {\n  const [filterQuery, setFilterQuery] = useState('');\n  const [status, setStatus] = useState(Status.All);\n  const [shuffle, setShuffle] = useState(false);\n\n  const filteredStatus = () => {\n    switch (status) {\n      case Status.Active:\n        return todos.filter(todo => !todo.completed);\n      case Status.Completed:\n        return todos.filter(todo => todo.completed);\n      case Status.All:\n      default:\n        return todos;\n    }\n  };\n\n  const filteredTodos = filteredStatus().filter(todo => {\n    const title = todo.title.toLowerCase();\n    const query = filterQuery.toLowerCase();\n\n    return title.includes(query);\n  });\n\n  const visibleTodos = shuffle\n    ? filteredTodos.sort(() => Math.random() - 0.5)\n    : filteredTodos;\n\n  const changeStatus = useCallback((event: ChangeEvent<HTMLSelectElement>) => {\n    setStatus(event.target.value as Status);\n  }, []);\n\n  const changeFilter = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    setFilterQuery(event.target.value);\n  }, []);\n\n  const changeShuffle = useCallback(() => {\n    setShuffle(prev => !prev);\n  }, []);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__buttons\">\n        <label className=\"TodoList__label\">\n          Filter\n          <input\n            data-cy=\"filterByTitle\"\n            className=\"TodoList__input\"\n            type=\"text\"\n            value={filterQuery}\n            onChange={changeFilter}\n          />\n        </label>\n\n        <label className=\"TodoList__label\">\n          Select\n          <select\n            className=\"TodoList__input\"\n            value={status}\n            onChange={changeStatus}\n          >\n            <option value={Status.All}>All</option>\n            <option value={Status.Active}>Active</option>\n            <option value={Status.Completed}>Completed</option>\n          </select>\n        </label>\n\n        <div className=\"TodoList__label\">\n          Random order\n          <button\n            type=\"button\"\n            className=\"TodoList__input\"\n            onClick={changeShuffle}\n          >\n            Shuffle list\n          </button>\n        </div>\n      </div>\n      <div className=\"TodoList__list-container\">\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {visibleTodos.map(todo => (\n            <TodoItem\n              key={todo.id}\n              todo={todo}\n              selectNewUser={selectNewUser}\n              selectedUserId={selectedUserId}\n            />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import {\n  FC,\n  useCallback,\n  useState,\n} from 'react';\nimport './TodoItem.scss';\nimport cn from 'classnames';\n\ntype Props = {\n  todo: Todo;\n  selectedUserId: number,\n  selectNewUser: (x: number) => void;\n};\n\nexport const TodoItem: FC<Props> = ({\n  todo,\n  selectedUserId,\n  selectNewUser,\n}) => {\n  const [checked, setChecked] = useState(todo.completed);\n\n  const onChecked = useCallback(() => {\n    setChecked(prev => !prev);\n  }, [checked]);\n\n  return (\n    <li\n      className={cn(\n        'TodoItem',\n        {\n          'TodoItem--checked': checked,\n          'TodoItem--unchecked': !checked,\n        },\n      )}\n    >\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          readOnly\n          onClick={onChecked}\n        />\n        <p>{todo.title}</p>\n      </label>\n\n      <button\n        className={cn(\n          'TodoItem__user-button', 'button',\n          {\n            'TodoItem__user-button--selected': todo.userId === selectedUserId,\n          },\n        )}\n        // className=\"\n        //   TodoItem__user-button\n        //   TodoItem__user-button--selected\n        //   button\n        // \"\n        type=\"button\"\n        onClick={() => selectNewUser(todo.userId)}\n        data-cy=\"userButton\"\n      >\n        {`User #${todo.userId}`}\n      </button>\n    </li>\n  );\n};\n","import {\n  FC,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\nimport { request, USERS_URL } from '../API/api';\nimport './CurrentUser.scss';\n\nenum Error {\n  Initial = '',\n  Error = 'Can\\'t download user',\n}\n\ntype Props = {\n  userId: number;\n  selectNewUser: (x: number) => void;\n};\n\nexport const CurrentUser: FC<Props> = ({\n  userId,\n  selectNewUser,\n}) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [userError, setUserError] = useState(Error.Initial);\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const userFromServer = await request(USERS_URL, `/${userId}`);\n\n        setUser(userFromServer);\n        setUserError(Error.Initial);\n      } catch {\n        setUser(null);\n        setUserError(Error.Error);\n      }\n    };\n\n    getUser();\n  }, [userId]);\n\n  const clearUser = useCallback(() => {\n    selectNewUser(0);\n  }, []);\n\n  return (\n    <>\n      {user && (\n        <div className=\"CurrentUser\">\n          <button\n            type=\"button\"\n            className=\"button CurrentUser__button\"\n            onClick={clearUser}\n          >\n            Clear user\n          </button>\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${user.id}`}</span>\n          </h2>\n\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {user.name}\n          </h3>\n          <p className=\"CurrentUser__email\">{user.email}</p>\n          <p className=\"CurrentUser__phone\">{user.phone}</p>\n        </div>\n      )}\n      {userError && <h2>{userError}</h2>}\n    </>\n  );\n};\n","export const API_URL = 'https://mate.academy/students-api/todos';\n\nexport const USERS_URL = 'https://mate.academy/students-api/users';\n\nexport const request = async (url: string, endpoint: string) => {\n  const response = await fetch(`${url}${endpoint}`);\n\n  return response.json();\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { API_URL, request } from './components/API/api';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [todos, setTodos] = useState([]);\n  const [downloadError, setDownloadError] = useState('');\n\n  useEffect(() => {\n    const getDataFromServer = async () => {\n      try {\n        const dataFromServer = await request(API_URL, '');\n\n        setTodos(dataFromServer);\n      } catch {\n        setDownloadError('Can\\'t download data from server!');\n      }\n    };\n\n    getDataFromServer();\n  }, []);\n\n  const selectNewUser = useCallback((id) => {\n    setSelectedUserId(id);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {\n        downloadError.length > 0\n          ? <h2>{downloadError}</h2>\n          : (\n            <>\n              <div className=\"App__sidebar\">\n                <TodoList\n                  todos={todos}\n                  selectNewUser={selectNewUser}\n                  selectedUserId={selectedUserId}\n                />\n              </div>\n\n              <div className=\"App__content\">\n                <div className=\"App__content-container\">\n                  {selectedUserId ? (\n                    <CurrentUser\n                      userId={selectedUserId}\n                      selectNewUser={selectNewUser}\n                    />\n                  ) : 'No user selected'}\n                </div>\n              </div>\n            </>\n          )\n      }\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}