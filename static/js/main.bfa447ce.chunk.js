(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n,s=c(9),r=c.n(s),a=c(10),l=c(4),o=c(2),u=c(3),i=c.n(u),d=c(1),j=(c(16),c(17),c(18),c(19),c(8)),b=c.n(j),h=c(0),O=function(e){var t=e.todo,c=e.selectedUserId,n=e.selectNewUser,s=Object(d.useState)(t.completed),r=Object(o.a)(s,2),a=r[0],l=r[1],u=Object(d.useCallback)((function(){l((function(e){return!e}))}),[a]);return Object(h.jsxs)("li",{className:b()("TodoItem",{"TodoItem--checked":a,"TodoItem--unchecked":!a}),children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:a,readOnly:!0,onClick:u}),Object(h.jsx)("p",{children:t.title})]}),Object(h.jsx)("button",{className:b()("TodoItem__user-button","button",{"TodoItem__user-button--selected":t.userId===c}),type:"button",onClick:function(){return n(t.userId)},"data-cy":"userButton",children:"User #".concat(t.userId)})]})};!function(e){e.All="all",e.Active="active",e.Completed="completed"}(n||(n={}));var p=function(e){var t=e.todos,c=e.selectedUserId,s=e.selectNewUser,r=e.onShuffleChange,a=Object(d.useState)(""),l=Object(o.a)(a,2),u=l[0],i=l[1],j=Object(d.useState)(n.All),b=Object(o.a)(j,2),p=b[0],f=b[1],m=function(){switch(p){case n.Active:return t.filter((function(e){return!e.completed}));case n.Completed:return t.filter((function(e){return e.completed}));case n.All:default:return t}}().filter((function(e){var t=e.title.toLowerCase(),c=u.toLowerCase();return t.includes(c)})),x=Object(d.useCallback)((function(e){f(e.target.value)}),[]),v=Object(d.useCallback)((function(e){i(e.target.value)}),[]);return Object(h.jsxs)("div",{className:"TodoList",children:[Object(h.jsx)("h2",{children:"Todos:"}),Object(h.jsxs)("div",{className:"TodoList__buttons",children:[Object(h.jsxs)("label",{className:"TodoList__label",children:["Filter",Object(h.jsx)("input",{"data-cy":"filterByTitle",className:"TodoList__input",type:"text",value:u,onChange:v})]}),Object(h.jsxs)("label",{className:"TodoList__label",children:["Select",Object(h.jsxs)("select",{className:"TodoList__input",value:p,onChange:x,children:[Object(h.jsx)("option",{value:n.All,children:"All"}),Object(h.jsx)("option",{value:n.Active,children:"Active"}),Object(h.jsx)("option",{value:n.Completed,children:"Completed"})]})]}),Object(h.jsxs)("div",{className:"TodoList__label",children:["Random order",Object(h.jsx)("button",{type:"button",className:"TodoList__input",onClick:function(){r()},children:"Shuffle list"})]})]}),Object(h.jsx)("div",{className:"TodoList__list-container",children:Object(h.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:m.map((function(e){return e.userId?Object(h.jsx)(O,{todo:e,selectNewUser:s,selectedUserId:c},e.id):""}))})})]})},f=function(){var e=Object(l.a)(i.a.mark((function e(t,c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t).concat(c));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),m=(c(21),function(e){var t=e.userId,c=e.selectNewUser,n=Object(d.useState)(null),s=Object(o.a)(n,2),r=s[0],a=s[1],u=Object(d.useState)(null),j=Object(o.a)(u,2),b=j[0],O=j[1];Object(d.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n="/".concat(t),f("https://mate.academy/students-api/users",n);case 3:c=e.sent,a(c),O(null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(null),O("Can't download user");case 12:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var p=Object(d.useCallback)((function(){c(0)}),[]);return Object(h.jsxs)(h.Fragment,{children:[r&&Object(h.jsxs)("div",{className:"CurrentUser",children:[Object(h.jsx)("button",{type:"button",className:"button CurrentUser__button",onClick:p,children:"Clear user"}),Object(h.jsx)("h2",{className:"CurrentUser__title",children:Object(h.jsx)("span",{children:"Selected user: ".concat(r.id)})}),Object(h.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:r.name}),Object(h.jsx)("p",{className:"CurrentUser__email",children:r.email}),Object(h.jsx)("p",{className:"CurrentUser__phone",children:r.phone})]}),b&&Object(h.jsx)("h2",{children:b})]})}),x=function(){var e=Object(d.useState)(null),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(d.useState)([]),r=Object(o.a)(s,2),u=r[0],j=r[1],b=Object(d.useState)(""),O=Object(o.a)(b,2),x=O[0],v=O[1];Object(d.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("https://mate.academy/students-api/todos","");case 3:t=e.sent,j(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v("Can't download data from server!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var _=Object(d.useCallback)((function(e){n(e)}),[]);return Object(h.jsx)("div",{className:"App",children:x.length>0?Object(h.jsx)("h2",{children:x}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"App__sidebar",children:Object(h.jsx)(p,{todos:u,selectNewUser:_,selectedUserId:c,onShuffleChange:function(){j(Object(a.a)(u).sort((function(){return Math.random()-.5})))}})}),Object(h.jsx)("div",{className:"App__content",children:Object(h.jsx)("div",{className:"App__content-container",children:c?Object(h.jsx)(m,{userId:c,selectNewUser:_}):"No user selected"})})]})})};r.a.render(Object(h.jsx)(x,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.bfa447ce.chunk.js.map